<html>

    <head>
    
        <script src='perlin.js'></script>
    
        <script>
        
            var depth = 0,
                offx = 0,
                offy = 0,
                canvas,
                ctx,
                pn;
                
            function onLoad() {
                canvas = document.getElementById('perlin-canvas');
                ctx = canvas.getContext('2d');
                pn = new Perlin('seed');
                renderNext()
            }            
        
            function renderNext() {
                depth += 0.025;
                offx += 0.0;
                offy += 1;
                for(var x = 0; x < canvas.width; x++) {
                    for(var y = 0; y < canvas.height; y++) {
                        var h = pn.noise((x+offx)/8, (y+offy)/8, depth);
                        h = Math.floor((h/2 + 0.5) * 256);
                        var k = pn.noise((x+offx+10)/16, (y+offy+10)/16, depth);
                        k = Math.floor((k/2 + 0.5) * 256);
                        color = "rgba(" + h + "," + k + "," + 0 + ",1.0)";
                        ctx.fillStyle = color;
                        ctx.fillRect(x, y, 1, 1);
                    }
                }
                setTimeout(renderNext, 0);
            }
            
        
        </script>
    
    
    </head>

    <body onload="onLoad();">
    
        <canvas id='perlin-canvas' width='64' height='64' style="width:512; height:512"></canvas>
    
    </body>


</html>
